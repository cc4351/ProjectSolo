<!doctype html>
<html>
	<head>
		<title>D3-line</title>
		<script src = "http://d3js.org/d3.v3.min.js"></script>
		<style>
			.path {
			  stroke-dasharray: 1000;
			  stroke-dashoffset: 1000;
			  animation: dash 5s linear alternate infinite;
			}

			@keyframes dash {
			  from {
				stroke-dashoffset: 822;
			  }
			  to {
				stroke-dashoffset: 0;
			  }
			}
		</style>

	</head>

	
	<body>
<!--		<p>D3 practices</p>-->
<!--
		<svg viewBox="0 0 340 333">

		  <path class="path" fill="white" stroke="black" stroke-width="4" d="M66.039,133.545c0,0-21-57,18-67s49-4,65,8
			s30,41,53,27s66,4,58,32s-5,44,18,57s22,46,0,45s-54-40-68-16s-40,88-83,48s11-61-11-80s-79-7-70-41
			C46.039,146.545,53.039,128.545,66.039,133.545z"/>

		</svg>
-->
		
		<script>
			var svgContainer = d3.select("body").append("svg")
                                     .attr("width", 500)
                                     .attr("height", 600);
			
			var cir1 = svgContainer.append("circle")
									.attr("cx", 50)
									.attr("cy", 50)
									.attr("r", 5);
			
			var cir2 = svgContainer.append("circle")
									.attr("cx", 50)
									.attr("cy", 500)
									.attr("r", 10);
			
			var line = svgContainer.append("line")
								 .attr("x1", 50)
								 .attr("y1", 50)
								 .attr("x2", 50)
								 .attr("y2", 500)
								 .attr("stroke-width", 2)
								 .attr("stroke", "black");
			var offset = 450;		
			//http://bl.ocks.org/fryford/2925ecf70ac9d9b51031
			
			line.attr("stroke-dasharray", 450 + " "+ 450)
				.attr("stroke-dashoffset", offset)
				.transition()
				.delay(1000)
				.duration(2000)
				.ease("linear")
				.attr("stroke-dashoffset", 0);
			
			var text = svgContainer.append("text")
							.attr("x", 300)
							.attr("y", 300)
							.style("fill", "steelblue")
							.style("opacity", 1)
							.text("hello world");
			
			line.attr("opacity", 0.5);
		
			
			var active = true;
			
			cir2.on("click", function(){
				var newOpacity;
				newOpacity = active?0:0.5;
				line.style("opacity", newOpacity);
				active = newOpacity==0.5?true:false;
//				svgContainer.append("text").attr("x", 200).attr("y", 200).text("yay");
			});
		

			
// create new datapoints on the svg
//			svgContainer.on("click", function() {
//			  var coords = d3.mouse(this);
//
//			  // Normally we go from data to pixels, but here we're doing pixels to data
//			  var newData= {
//				x: Math.round( xScale.invert(coords[0])),  // Takes the pixel number to convert to number
//				y: Math.round( yScale.invert(coords[1]))
//			  };
//
//			  dataset.push(newData);   // Push data to our array
//
//			  svg.selectAll("circle")  // For new circle, go through the update process
//				.data(dataset)
//				.enter()
//				.append("circle")
//				.attr(circleAttrs)  // Get attributes from circleAttrs var
//				.on("mouseover", handleMouseOver)
//				.on("mouseout", handleMouseOut);
//			})
				
		</script>
	
	</body>

</html>



